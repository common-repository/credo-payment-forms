jQuery((function(e){let a=!1;function r(){let e=[{display_name:"Plugin",variable_name:"plugin",value:"woo-credo"}];return wc_credo_params.meta_order_id&&e.push({display_name:"Order ID",variable_name:"order_id",value:wc_credo_params.meta_order_id}),wc_credo_params.meta_name&&e.push({display_name:"Customer Name",variable_name:"customer_name",value:wc_credo_params.meta_name}),wc_credo_params.meta_email&&e.push({display_name:"Customer Email",variable_name:"customer_email",value:wc_credo_params.meta_email}),wc_credo_params.meta_phone&&e.push({display_name:"Customer Phone",variable_name:"customer_phone",value:wc_credo_params.meta_phone}),wc_credo_params.meta_billing_address&&e.push({display_name:"Billing Address",variable_name:"billing_address",value:wc_credo_params.meta_billing_address}),wc_credo_params.meta_shipping_address&&e.push({display_name:"Shipping Address",variable_name:"shipping_address",value:wc_credo_params.meta_shipping_address}),wc_credo_params.meta_products&&e.push({display_name:"Products",variable_name:"products",value:wc_credo_params.meta_products}),e}function c(){let e={};return wc_credo_params.card_channel&&(wc_credo_params.banks_allowed&&(e.banks=wc_credo_params.banks_allowed),wc_credo_params.cards_allowed&&(e.card_brands=wc_credo_params.cards_allowed)),e}function _(){let e=[];return wc_credo_params.bank_channel&&e.push("bank"),wc_credo_params.card_channel&&e.push("card"),e}function s(){if(e("#wc-credo-form").hide(),a)return a=!1,!0;let s=e("form#payment-form, form#order_review"),m=Number(wc_credo_params.amount),o=null===wc_credo_params.serviceCode||void 0===wc_credo_params.serviceCode?null:wc_credo_params.serviceCode,d={key:wc_credo_params.key,email:wc_credo_params.email,amount:m,reference:wc_credo_params.txnref,customerFirstName:wc_credo_params.meta_first_name,customerLastName:wc_credo_params.meta_last_name,customerPhoneNumber:wc_credo_params.meta_phone,currency:wc_credo_params.currency,bearer:Number(wc_credo_params.bearer),serviceCode:o,metadata:{custom_fields:r()},callBack:function(r){s.append('<input type="hidden" class="credo_txnref" name="transRef" value="'+r.transRef+'"/>'),a=!0,s.submit(),e("body").block({message:null,overlayCSS:{background:"#fff",opacity:.6},css:{cursor:"wait"}})},onCancel:()=>{e("#wc-credo-form").show(),e(this.el).unblock()}};Array.isArray(_())&&_().length&&(d.channels=_(),e.isEmptyObject(c())||(d.metadata.custom_filters=c()));CredoWidget.setup(d).openIframe()}e("#wc-credo-form").hide(),s(),jQuery("#credo-payment-button").click((function(){return s()})),jQuery("#credo_form form#order_review").submit((function(){return s()}))}));